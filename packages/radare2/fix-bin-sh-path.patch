diff -Nuar -ruN radare2-5.4.0/libr/include/r_util/r_file.h radare2-5.4.0.mod/libr/include/r_util/r_file.h
--- radare2-5.4.0/libr/include/r_util/r_file.h	2021-08-20 09:25:10.617372300 -0300
+++ radare2-5.4.0.mod/libr/include/r_util/r_file.h	2021-08-20 10:48:00.361368745 -0300
@@ -8,7 +8,7 @@
 #include <r_util/r_mem.h>
 
 #ifndef SHELL_PATH
-#define SHELL_PATH "/bin/sh"
+#define SHELL_PATH "@TERMUX_PREFIX@/bin/sh"
 #endif
 
 #ifndef TERMUX_PREFIX
diff -Nuar -ruN radare2-5.4.0/libr/socket/run.c radare2-5.4.0.mod/libr/socket/run.c
--- radare2-5.4.0/libr/socket/run.c	2021-08-20 09:25:10.705372300 -0300
+++ radare2-5.4.0.mod/libr/socket/run.c	2021-08-20 10:46:52.221368794 -0300
@@ -1211,7 +1211,7 @@
 				: r_file_path ("sh");
 			// Honor $SHELL ?
 			if (R_STR_ISNOTEMPTY (bin_sh)) {
-				exit (execl (bin_sh, bin_sh, "-c", p->_system, NULL));
+				exit (execl ("@TERMUX_PREFIX@/bin/sh","@TERMUX_PREFIX@/bin/sh", "-c", p->_system, NULL));
 			} else {
 				exit (r_sys_cmd (p->_system));
 			}
