--- procps-3.3.17.orig/pgrep.c	2021-02-09 17:11:25.000000000 +0700
+++ procps-3.3.17/pgrep.c	2021-05-11 23:56:40.000000000 +0700
@@ -794,12 +794,12 @@
 	};
 
 #ifdef ENABLE_PWAIT
-	if (strcmp (program_invocation_short_name, "pwait") == 0) {
+	if (strcmp (argv[0], "pwait") == 0) {
 		prog_mode = PWAIT;
 		strcat (opts, "e");
 	} else
 #endif
-        if (strcmp (program_invocation_short_name, "pkill") == 0) {
+        if (strcmp (argv[0], "pkill") == 0) {
 		int sig;
 		prog_mode = PKILL;
 		sig = signal_option(&argc, argv);
diff -ru procps-3.3.17.orig/pmap.c procps-3.3.17/pmap.c
